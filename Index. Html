```python
#!/usr/bin/env python3
import os
import sys
import shutil
import subprocess

# ============================================
# USER CONFIGURATION - рдпрд╣рд╛рдБ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдмрджрд▓реЗрдВ
# ============================================
GITHUB_URL = "https://.git"
# рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдЪрд▓рд╛рдиреЗ рд╡рд╛рд▓реА рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЗ рдЕрдВрджрд░ 'repo' рдлрд╝реЛрд▓реНрдбрд░ рдмрдиреЗрдЧрд╛
BASE_DIR = './repo'
PIP_INSTALL = "requirements.txt"  # рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЗ рдЕрдВрджрд░ requirements рдлрд╝рд╛рдЗрд▓ рдХрд╛ рд░рд╛рд╕реНрддрд╛

# рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ - рдпрд╣рд╛рдБ рднрд░реЗрдВ рдпрд╛ рд░рдирдЯрд╛рдЗрдо рдкрд░ рджреЗрдВ
API_ID = ""
API_HASH = ""
BOT_TOKEN = ""

# рдореБрдЦреНрдп рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЪрд▓рд╛рдиреЗ рдХрд╛ рдХрдорд╛рдВрдб
RUN_COMMAND = "python3 modules/main.py"
# ============================================

def run_command(cmd, shell=False, check=True, cwd=None):
    """рдХрдорд╛рдВрдб рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЗрд▓реНрдкрд░ рдлрд╝рдВрдХреНрд╢рди"""
    try:
        result = subprocess.run(
            cmd if not shell else cmd,
            shell=shell,
            check=check,
            capture_output=True,
            text=True,
            cwd=cwd
        )
        return result.returncode, result.stdout, result.stderr
    except subprocess.CalledProcessError as e:
        print(f"тЭМ рдХрдорд╛рдВрдб рдлреЗрд▓ рд╣реБрдИ: {e}")
        if e.stderr:
            print(f"рд╕реНрдЯрдбрд░реНрд░: {e.stderr}")
        return e.returncode, e.stdout, e.stderr

def clone_or_update_repo(repo_url, base_directory):
    """рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЛ рдХреНрд▓реЛрди рдпрд╛ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИ"""
    repo_name = os.path.basename(repo_url).replace('.git', '')
    project_dir = os.path.join(base_directory, repo_name)

    # рдкреБрд░рд╛рдиреА рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдХреЛ рд╣рдЯрд╛рдирд╛
    if os.path.exists(project_dir):
        print(f"ЁЯЧСя╕П рдореМрдЬреВрджрд╛ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╣рдЯрд╛ рд░рд╣рд╛ рд╣реВрдБ: {project_dir}")
        try:
            shutil.rmtree(project_dir)
            print("тЬЕ рдкреБрд░рд╛рдиреА рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╣рдЯрд╛рдИ рдЧрдИ!")
        except Exception as e:
            print(f"тЭМ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╣рдЯрд╛рдиреЗ рдореЗрдВ рддреНрд░реБрдЯрд┐: {e}")
            sys.exit(1)

    # рдирдИ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреНрд▓реЛрди рдХрд░рдирд╛
    print(f"ЁЯУе рдирдИ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреНрд▓реЛрди рдХрд░ рд░рд╣рд╛ рд╣реВрдБ: {repo_url}")
    returncode, stdout, stderr = run_command(
        ["git", "clone", repo_url, project_dir],
        shell=False,
        check=False
    )
    
    if returncode != 0:
        print(f"тЭМ рдХреНрд▓реЛрди рдХрд░рдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓ред Git рдХрд╛ рдЖрдЙрдЯрдкреБрдЯ: {stderr}")
        sys.exit(1)
    
    print("тЬЕ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдХреНрд▓реЛрди рд╣реЛ рдЧрдИ!")
    return project_dir

def setup_environment():
    """рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реЗрд░рд┐рдПрдмрд▓ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ"""
    # рдпреВрдЬрд░ рд╕реЗ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рд▓реЗрдирд╛ рдЕрдЧрд░ рдкрд╣рд▓реЗ рд╕реЗ рд╕реЗрдЯ рдирд╣реАрдВ рд╣реИрдВ
    creds_provided = API_ID and API_HASH and BOT_TOKEN
    
    if not creds_provided:
        print("\n" + "="*50)
        print("рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рд╕реЗрдЯрдЕрдк")
        print("="*50)
        
        api_id = input("тЬНя╕П рдЕрдкрдирд╛ API_ID рджрд░реНрдЬ рдХрд░реЗрдВ (my.telegram.org рд╕реЗ): ").strip()
        api_hash = input("тЬНя╕П рдЕрдкрдирд╛ API_HASH рджрд░реНрдЬ рдХрд░реЗрдВ: ").strip()
        bot_token = input("тЬНя╕П рдЕрдкрдирд╛ BOT_TOKEN рджрд░реНрдЬ рдХрд░реЗрдВ (@BotFather рд╕реЗ): ").strip()
        
        # рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реЗрд░рд┐рдПрдмрд▓ рд╕реЗрдЯ рдХрд░рдирд╛
        os.environ['API_ID'] = api_id
        os.environ['API_HASH'] = api_hash
        os.environ['BOT_TOKEN'] = bot_token
        print("тЬЕ рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реЗрд░рд┐рдПрдмрд▓ рд╕реЗрдЯ рд╣реЛ рдЧрдП!")
    else:
        # рдкрд╣рд▓реЗ рд╕реЗ рдбрд┐рдлрд╛рдЗрди рдХрд┐рдП рдЧрдП рд╡реЗрд░рд┐рдПрдмрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ
        os.environ['API_ID'] = API_ID
        os.environ['API_HASH'] = API_HASH
        os.environ['BOT_TOKEN'] = BOT_TOKEN
        print("тЬЕ рдкреНрд░реА-рдбрд┐рдлрд╛рдЗрди рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛!")

def install_requirements(project_dir):
    """рдЖрд╡рд╢реНрдпрдХ рдкрд╛рдпрдерди рдкреИрдХреЗрдЬ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рддрд╛ рд╣реИ"""
    req_file = os.path.join(project_dir, PIP_INSTALL)
    
    if not os.path.exists(req_file):
        print(f"тЪая╕П рдЪреЗрддрд╛рд╡рдиреА: '{PIP_INSTALL}' рдлрд╝рд╛рдЗрд▓ рдирд╣реАрдВ рдорд┐рд▓реАред")
        print("   рдХреЛрдИ рдкреИрдХреЗрдЬ рдЗрдВрд╕реНрдЯреЙрд▓ рдирд╣реАрдВ рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗред")
        return
    
    print(f"ЁЯУж рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░ рд░рд╣рд╛ рд╣реВрдБ: {req_file}")
    returncode, stdout, stderr = run_command(
        [sys.executable, "-m", "pip", "install", "-r", req_file],
        shell=False,
        check=False
    )
    
    if returncode == 0:
        print("тЬЕ рд╕рднреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реЛ рдЧрдИрдВ!")
    else:
        print(f"тЪая╕П рдХреБрдЫ рдкреИрдХреЗрдЬ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рдЖрдИред рддреНрд░реБрдЯрд┐: {stderr}")

def main():
    """рдореБрдЦреНрдп рдирд┐рд╖реНрдкрд╛рджрди рдлрд╝рдВрдХреНрд╢рди"""
    print("="*60)
    print("рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдЯреЗрд╕реНрдЯ рдФрд░ рд╕реЗрдЯрдЕрдк рд╕реНрдХреНрд░рд┐рдкреНрдЯ")
    print("="*60)
    
    # рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреНрд▓реЛрди рдпрд╛ рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛
    project_dir = clone_or_update_repo(GITHUB_URL, BASE_DIR)
    
    # рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реЗрд░рд┐рдПрдмрд▓ рд╕реЗрдЯрдЕрдк
    setup_environment()
    
    # рдЖрд╡рд╢реНрдпрдХ рдкреИрдХреЗрдЬ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛
    install_requirements(project_dir)
    
    # рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдЬрд╛рдирд╛
    print(f"ЁЯУБ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдкреНрд░рд╡реЗрд╢: {os.path.basename(project_dir)}")
    os.chdir(project_dir)
    
    # рдмреЙрдЯ рдЪрд▓рд╛рдирд╛
    print(f"\nЁЯЪА рдмреЙрдЯ рдЪрд▓рд╛ рд░рд╣рд╛ рд╣реВрдБ: {RUN_COMMAND}")
    print("-"*40)
    
    # рдХрдорд╛рдВрдб рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдирд╛ (рд╕реНрдкреЗрд╕ рдХреЗ рдЖрдзрд╛рд░ рдкрд░)
    cmd_parts = RUN_COMMAND.split()
    
    # рд╕рдмрдкреНрд░реЛрд╕реЗрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдореБрдЦреНрдп рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЪрд▓рд╛рдирд╛
    try:
        process = subprocess.Popen(
            cmd_parts,
            stdout=subprocess.PIPE,
            stderr=subprocess.PIPE,
            text=True,
            bufsize=1,
            universal_newlines=True
        )
        
        # рд░рд┐рдпрд▓-рдЯрд╛рдЗрдо рдЖрдЙрдЯрдкреБрдЯ рджрд┐рдЦрд╛рдирд╛
        print("рдмреЙрдЯ рдЖрдЙрдЯрдкреБрдЯ (Ctrl+C рджрдмрд╛рдХрд░ рд░реЛрдХреЗрдВ):")
        print("-"*40)
        
        # stdout рдФрд░ stderr рдХреЛ рд░рд┐рдпрд▓-рдЯрд╛рдЗрдо рдореЗрдВ рдкрдврд╝рдирд╛ рдФрд░ рджрд┐рдЦрд╛рдирд╛
        while True:
            output = process.stdout.readline()
            if output:
                print(output.strip())
            
            err_output = process.stderr.readline()
            if err_output:
                print(f"рддреНрд░реБрдЯрд┐: {err_output.strip()}")
            
            # рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдИ рд╣реИ рдпрд╛ рдирд╣реАрдВ, рдпрд╣ рдЬрд╛рдБрдЪрдирд╛
            if output == '' and err_output == '' and process.poll() is not None:
                break
                
    except KeyboardInterrupt:
        print("\n\nтЪая╕П рдпреВрдЬрд░ рджреНрд╡рд╛рд░рд╛ рдмреЙрдЯ рд░реЛрдХрд╛ рдЧрдпрд╛ред")
        process.terminate()
    except Exception as e:
        print(f"\nтЭМ рдмреЙрдЯ рдЪрд▓рд╛рддреЗ рд╕рдордп рддреНрд░реБрдЯрд┐: {e}")
        sys.exit(1)
    
    print("\n" + "="*60)
    print("тЬЕ рдирд┐рд╖реНрдкрд╛рджрди рдкреВрд░рд╛ рд╣реБрдЖ!")
    print("="*60)

if __name__ == "__main__":
    main()
```
